<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>
			{% block title %}Welcome!
			{% endblock %}
		</title>

		<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
		{% block stylesheets %}
			<link rel="stylesheet" href="{{ asset('styles/app.css') }}">
			<style>
				.navbar-nav .nav-link {
					transition: all 0.3s ease;
					font-weight: 500;
					position: relative;
				}
				
				.navbar-nav .nav-link:hover {
					color: #0d6efd !important;
					transform: translateY(-2px);
				}
				
				.navbar-nav .nav-link::after {
					content: '';
					position: absolute;
					width: 0;
					height: 2px;
					bottom: 0;
					left: 50%;
					background-color: #0d6efd;
					transition: all 0.3s ease;
					transform: translateX(-50%);
				}
				
				.navbar-nav .nav-link:hover::after {
					width: 80%;
				}
				
				.navbar-nav .nav-link img {
					transition: all 0.3s ease;
				}
				
				.navbar-nav .nav-link:hover img {
					transform: scale(1.1);
					box-shadow: 0 4px 8px rgba(0,0,0,0.3) !important;
				}
				
				/* Убираем фон при наведении на кнопку Se connecter */
				.btn-outline-primary:hover {
					background-color: transparent !important;
					border-color: #0d6efd !important;
					color: #0d6efd !important;
				}
			</style>
		{% endblock %}

		{% block javascripts %}
			<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

			{% block importmap %}
				{{ importmap('app') }}
			{% endblock %}
		{% endblock %}
	</head>
	<body class="bg-light text-dark">
		{% block navigation %}
			<header>
				<nav class="navbar navbar-expand-lg" style="background-image: url('{{ asset('images/background1.png') }}'); background-size: cover; background-position: center;padding:30px">
					<div class="container-fluid" style="padding:0px 0px 0px 20px">
						<a class="navbar-brand me-4" href="{{ path('app_accueil') }}">
							<img src="{{ asset('images/icon.png') }}" alt="Logo" style="width: 60px;">
						</a>
						<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
							<span class="navbar-toggler-icon"></span>
						</button>
						<div class="collapse navbar-collapse" id="navbarNav" style="background-color: rgba(255, 255, 255, 0.8); border-radius: 8px;">

							<ul class="navbar-nav">
								<li class="nav-item">
									<a class="nav-link" aria-current="page" href="{{ path('app_accueil') }}">Accueil</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="{{ path('app_category') }}">Categories</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="{{ path('app_photo') }}">Photos</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="{{ path('app_route') }}">Routes</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="{{ path('app_favorites') }}">Favorites</a>
								</li>
							</ul>

							<ul class="navbar-nav ms-auto">
								<li class="nav-item">
									{% if app.user %}
										<a class="nav-link" href="{{ path('app_profil') }}" title="Mon profil">
											<img src="{{ asset('images/user_icon.png') }}" alt="Profil" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #fff; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">
										</a>
									{% else %}
										<a class="nav-link btn btn-outline-primary btn-sm" href="{{ path('app_login') }}">
											Se connecter
										</a>
									{% endif %}
								</li>
							</ul>
						</div>
					</div>
				</nav>
			</header>
		{% endblock %}
		<main>
			{% block body %}{% endblock %}
		</main>
		{% block footer %}
			<footer class="bg-primary text-white mt-4 py-3">
				<div class="container d-flex justify-content-between align-items-center flex-wrap">
					<p class="mb-0">&copy;
						{{ "now"|date("Y") }}
						Attractions. Tous droits réservés.</p>
					<div>
						<a href="#" class="text-white text-decoration-none me-3">Mentions légales</a>
						<a href="#" class="text-white text-decoration-none">Contact</a>
					</div>
				</div>
			</footer>
		{% endblock %}

	</body>
</html>
